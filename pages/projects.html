<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects</title>
    <link rel="stylesheet" href="/styles/pageTheme.css">
    <link rel="stylesheet" href="/styles/fonts.css">
    <link rel="stylesheet" href="/styles/projects.css">

    <script src="/global.js"></script>
    <script src="/styles/background/three.r134.min.js"></script>
    <script src="/styles/background/vanta.net.min.js"></script>
</head>
<body class="poppins-regular" id="body">
        <header>
            <h1>Projects</h1>
            <nav>
                <ul>
                    <li><a href="/index.html"><u>Home</u></a></li>
                    <li><a href="/pages/aboutMe.html"><u>About Me</u></a></li>
                    <li><a onmouseover="this.style.cursor='default';" href="javascript:void(0)" class="nav-link"> </a>Projects</li>
                </ul>
            </nav>
        </header>

        <main class="projects-container" id="projectsContainer">
            <!-- Projects will be dynamically injected here -->
        </main>

        <footer>
            <p class="side-by-side" id="footerLastUpdated"></p><p class="side-by-side"><a href="https://github.com/BenjaminTWP/BenjaminTWP.github.io/activity" rel="noopener"  target="_blank">GitHub Activity</a>
        </footer>

<script>
    document.getElementById('footerLastUpdated').innerText = "Last updated " + LAST_UPDATE + ".";
</script>
        <script>
            fetch('/data/projects.json')
                .then(response => response.json())
                .then(data => {
                    const projectsContainer = document.getElementById('projectsContainer');

                    data.forEach((project) => {
                        const projectItem = document.createElement('div');
                        projectItem.classList.add('project-item');

                        // Handle the code link
                        const codeLinkHTML = project.codeLink.available
                            ? `<a class="code-link" href="${project.codeLink.link}" target="_blank">View Code</a>`
                            : '';

                        // Handle individual or team project display
                        const individualHTML = project.individual
                            ? '<p class="project-type">Individual Project</p>'
                            : '<p class="project-type">Team Project</p>';

                        // Handle media (either video or image)
                        let mediaHTML = '';
                        if (project.media.type === 'video') {
                            mediaHTML = `
                        <div class="project-video">
                            <video controls style="max-width: 100%; border-radius: 10px;">
                                <source src="${project.media.link}" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>`;
                        } else if (project.media.type === 'image') {
                            mediaHTML = `
                        <div class="project-image">
                            <img src="${project.media.link}" alt="${project.title}" style="max-width: 100%; border-radius: 10px;">
                        </div>`;
                        }

                        // Generate the project HTML
                        projectItem.innerHTML = `
                    <div class="project-content">
                        <h2 class="project-title">${project.title}</h2>
                        <p class="project-description">${project.description}</p>
                        <a class="learn-more-link" href="${project.informationLink}" target="_blank">Learn More</a>
                        ${codeLinkHTML} <!-- Only show code link if available -->
                        ${individualHTML} <!-- Show if individual or team project -->
                    </div>
                    ${mediaHTML} <!-- Render either video or image -->
                `;

                        // Append the project to the container
                        projectsContainer.appendChild(projectItem);
                    });
                })
                .catch(error => {
                    console.error('Error fetching the project data:', error);
                });
        </script>

        <script src="/styles/background/networkBackground.js"></script>
</body>
</html>